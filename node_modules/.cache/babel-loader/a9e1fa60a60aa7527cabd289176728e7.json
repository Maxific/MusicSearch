{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0421\\u0430\\u0439\\u0442\\u044B\\\\react\\\\music-project\\\\src\\\\pages\\\\Search.js\";\nimport React from 'react';\nimport Header from '../components/Header';\nimport Loading from './Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport ListAlbums from '../components/ListAlbums';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.inputArtist = e => {\n      const tamanho = e.target.value.length;\n\n      if (tamanho >= 2) {\n        this.setState({\n          buttonDisabled: false,\n          artistInput: e.target.value\n        });\n      } else {\n        this.setState({\n          buttonDisabled: true,\n          artistInput: e.target.value\n        });\n      }\n    };\n\n    this.fetchArtist = async () => {\n      const {\n        artistInput\n      } = this.state;\n      this.setState({\n        loading: true,\n        clear: true\n      });\n      const response = await searchAlbumsAPI(artistInput);\n      this.setState({\n        loading: false,\n        response\n      });\n    };\n\n    this.state = {\n      buttonDisabled: true,\n      artistInput: '',\n      loading: false,\n      clear: false,\n      response: []\n    };\n  }\n\n  render() {\n    const {\n      buttonDisabled,\n      artistInput,\n      loading,\n      clear,\n      response\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      className: \"divSearch\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Procure o artista:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"artist\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"search-artist-input\",\n            value: clear ? '' : artistInput,\n            onChange: this.inputArtist\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"search-artist-button\",\n          disabled: buttonDisabled,\n          onClick: this.fetchArtist,\n          className: \"searchButton\",\n          children: \"Pesquisar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), response.length > 0 && artistInput !== '' ? /*#__PURE__*/_jsxDEV(ListAlbums, { ...this.state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum \\xE1lbum foi encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"names":["React","Header","Loading","searchAlbumsAPI","ListAlbums","Search","Component","constructor","inputArtist","e","tamanho","target","value","length","setState","buttonDisabled","artistInput","fetchArtist","state","loading","clear","response","render"],"sources":["C:/Сайты/react/music-project/src/pages/Search.js"],"sourcesContent":["import React from 'react';\nimport Header from '../components/Header';\nimport Loading from './Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport ListAlbums from '../components/ListAlbums';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      buttonDisabled: true,\n      artistInput: '',\n      loading: false,\n      clear: false,\n      response: [],\n    };\n  }\n\n  inputArtist = (e) => {\n    const tamanho = e.target.value.length;\n\n    if (tamanho >= 2) {\n      this.setState({\n        buttonDisabled: false,\n        artistInput: e.target.value,\n      });\n    } else {\n      this.setState({\n        buttonDisabled: true,\n        artistInput: e.target.value,\n      });\n    }\n  }\n\n  fetchArtist = async () => {\n    const { artistInput } = this.state;\n    this.setState({ loading: true, clear: true });\n    const response = await searchAlbumsAPI(artistInput);\n    this.setState({ loading: false, response });\n  }\n\n  render() {\n    const { buttonDisabled, artistInput, loading, clear, response } = this.state;\n    return (\n      <div data-testid=\"page-search\" className=\"divSearch\">\n        <Header />\n        {loading ? <Loading />\n          : (\n            <form>\n              <h1>Procure o artista:</h1>\n              <label htmlFor=\"artist\">\n                <input\n                  type=\"text\"\n                  data-testid=\"search-artist-input\"\n                  value={ clear ? '' : artistInput }\n                  onChange={ this.inputArtist }\n                />\n              </label>\n              <button\n                type=\"submit\"\n                data-testid=\"search-artist-button\"\n                disabled={ buttonDisabled }\n                onClick={ this.fetchArtist }\n                className=\"searchButton\"\n              >\n                Pesquisar\n              </button>\n            </form>\n          )}\n        {(response.length > 0 && artistInput !== '')\n          ? <ListAlbums { ...this.state } />\n          : <p>Nenhum álbum foi encontrado</p>}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;;AAEA,MAAMC,MAAN,SAAqBL,KAAK,CAACM,SAA3B,CAAqC;EACnCC,WAAW,GAAG;IACZ;;IADY,KAYdC,WAZc,GAYCC,CAAD,IAAO;MACnB,MAAMC,OAAO,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,MAA/B;;MAEA,IAAIH,OAAO,IAAI,CAAf,EAAkB;QAChB,KAAKI,QAAL,CAAc;UACZC,cAAc,EAAE,KADJ;UAEZC,WAAW,EAAEP,CAAC,CAACE,MAAF,CAASC;QAFV,CAAd;MAID,CALD,MAKO;QACL,KAAKE,QAAL,CAAc;UACZC,cAAc,EAAE,IADJ;UAEZC,WAAW,EAAEP,CAAC,CAACE,MAAF,CAASC;QAFV,CAAd;MAID;IACF,CA1Ba;;IAAA,KA4BdK,WA5Bc,GA4BA,YAAY;MACxB,MAAM;QAAED;MAAF,IAAkB,KAAKE,KAA7B;MACA,KAAKJ,QAAL,CAAc;QAAEK,OAAO,EAAE,IAAX;QAAiBC,KAAK,EAAE;MAAxB,CAAd;MACA,MAAMC,QAAQ,GAAG,MAAMlB,eAAe,CAACa,WAAD,CAAtC;MACA,KAAKF,QAAL,CAAc;QAAEK,OAAO,EAAE,KAAX;QAAkBE;MAAlB,CAAd;IACD,CAjCa;;IAGZ,KAAKH,KAAL,GAAa;MACXH,cAAc,EAAE,IADL;MAEXC,WAAW,EAAE,EAFF;MAGXG,OAAO,EAAE,KAHE;MAIXC,KAAK,EAAE,KAJI;MAKXC,QAAQ,EAAE;IALC,CAAb;EAOD;;EAyBDC,MAAM,GAAG;IACP,MAAM;MAAEP,cAAF;MAAkBC,WAAlB;MAA+BG,OAA/B;MAAwCC,KAAxC;MAA+CC;IAA/C,IAA4D,KAAKH,KAAvE;IACA,oBACE;MAAK,eAAY,aAAjB;MAA+B,SAAS,EAAC,WAAzC;MAAA,wBACE,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QADF,EAEGC,OAAO,gBAAG,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QAAH,gBAEJ;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,OAAO,EAAC,QAAf;UAAA,uBACE;YACE,IAAI,EAAC,MADP;YAEE,eAAY,qBAFd;YAGE,KAAK,EAAGC,KAAK,GAAG,EAAH,GAAQJ,WAHvB;YAIE,QAAQ,EAAG,KAAKR;UAJlB;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAFF,eAUE;UACE,IAAI,EAAC,QADP;UAEE,eAAY,sBAFd;UAGE,QAAQ,EAAGO,cAHb;UAIE,OAAO,EAAG,KAAKE,WAJjB;UAKE,SAAS,EAAC,cALZ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAVF;MAAA;QAAA;QAAA;QAAA;MAAA,QAJN,EAyBII,QAAQ,CAACR,MAAT,GAAkB,CAAlB,IAAuBG,WAAW,KAAK,EAAxC,gBACG,QAAC,UAAD,OAAiB,KAAKE;MAAtB;QAAA;QAAA;QAAA;MAAA,QADH,gBAEG;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA3BN;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EA+BD;;AArEkC;;AAwErC,eAAeb,MAAf"},"metadata":{},"sourceType":"module"}