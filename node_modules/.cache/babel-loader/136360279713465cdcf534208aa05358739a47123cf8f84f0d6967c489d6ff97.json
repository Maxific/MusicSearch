{"ast":null,"code":"import _regeneratorRuntime from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Link}from'react-router-dom';import Loading from'../pages/Loading';import{getUser}from'../services/userAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=/*#__PURE__*/function(_React$Component){_inherits(Header,_React$Component);var _super=_createSuper(Header);function Header(){var _this;_classCallCheck(this,Header);_this=_super.call(this);_this.state={name:'',loading:false};return _this;}_createClass(Header,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({loading:true});_context.next=3;return getUser();case 3:user=_context.sent;this.setState({name:user.name,loading:false});case 5:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,name=_this$state.name,loading=_this$state.loading;return/*#__PURE__*/_jsx(\"header\",{\"data-testid\":\"header-component\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h3\",{\"data-testid\":\"header-user-name\",className:\"name\",children:name}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/search\",\"data-testid\":\"link-to-search\",children:\"\\u041F\\u043E\\u0438\\u0441\\u043A\"}),/*#__PURE__*/_jsx(Link,{to:\"/favorites\",\"data-testid\":\"link-to-favorites\",children:\" \\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"}),/*#__PURE__*/_jsx(Link,{to:\"/profile\",\"data-testid\":\"link-to-profile\",children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",\"data-testid\":\"link-to-login\",children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]})]})});}}]);return Header;}(React.Component);export default Header;","map":{"version":3,"names":["React","Link","Loading","getUser","Header","state","name","loading","setState","user","Component"],"sources":["C:/Сайты/react/music-project/src/components/Header.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Loading from '../pages/Loading';\nimport { getUser } from '../services/userAPI';\n\nclass Header extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      name: '',\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const user = await getUser();\n    this.setState({\n      name: user.name,\n      loading: false,\n    });\n  }\n\n  render() {\n    const { name, loading } = this.state;\n    return (\n      <header data-testid=\"header-component\">\n        {loading ? <Loading />\n          : (\n            <div className=\"header\">\n              <h3 data-testid=\"header-user-name\" className=\"name\">{ name }</h3>\n              <nav>\n                <Link to=\"/search\" data-testid=\"link-to-search\">Поиск</Link>\n                <Link to=\"/favorites\" data-testid=\"link-to-favorites\"> Избранное</Link>\n                <Link to=\"/profile\" data-testid=\"link-to-profile\">Профиль</Link>\n                <Link to=\"/\" data-testid=\"link-to-login\">Выйти</Link>\n              </nav>\n            </div>\n          )}\n      </header>\n    );\n  }\n}\n\nexport default Header;\n"],"mappings":"k0BAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,QAAO,KAAM,kBAAkB,CACtC,OAASC,OAAO,KAAQ,qBAAqB,CAAC,2FAExCC,OAAM,4GACV,iBAAc,wCACZ,wBAEA,MAAKC,KAAK,CAAG,CACXC,IAAI,CAAE,EAAE,CACRC,OAAO,CAAE,KACX,CAAC,CAAC,aACJ,CAAC,gJAED,8IACE,IAAI,CAACC,QAAQ,CAAC,CAAED,OAAO,CAAE,IAAK,CAAC,CAAC,CAAC,sBACdJ,QAAO,EAAE,QAAtBM,IAAI,eACV,IAAI,CAACD,QAAQ,CAAC,CACZF,IAAI,CAAEG,IAAI,CAACH,IAAI,CACfC,OAAO,CAAE,KACX,CAAC,CAAC,CAAC,2DACJ,mIAED,iBAAS,CACP,gBAA0B,IAAI,CAACF,KAAK,CAA5BC,IAAI,aAAJA,IAAI,CAAEC,OAAO,aAAPA,OAAO,CACrB,mBACE,eAAQ,cAAY,kBAAkB,UACnCA,OAAO,cAAG,KAAC,OAAO,IAAG,cAElB,aAAK,SAAS,CAAC,QAAQ,wBACrB,WAAI,cAAY,kBAAkB,CAAC,SAAS,CAAC,MAAM,UAAGD,IAAI,EAAO,cACjE,oCACE,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,CAAC,cAAY,gBAAgB,4CAAa,cAC5D,KAAC,IAAI,EAAC,EAAE,CAAC,YAAY,CAAC,cAAY,mBAAmB,qEAAkB,cACvE,KAAC,IAAI,EAAC,EAAE,CAAC,UAAU,CAAC,cAAY,iBAAiB,wDAAe,cAChE,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,CAAC,cAAY,eAAe,4CAAa,GACjD,GAET,EACI,CAEb,CAAC,oBArCkBN,KAAK,CAACU,SAAS,EAwCpC,cAAeN,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}