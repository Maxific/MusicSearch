{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0421\\u0430\\u0439\\u0442\\u044B\\\\react\\\\music-project\\\\src\\\\components\\\\FavoriteCards.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../pages/Loading';\nimport { removeSong, addSong } from '../services/favoriteSongsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass FavoriteCards extends React.Component {\n  constructor() {\n    super();\n\n    this.removeFav = async () => {\n      const {\n        song\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n      await removeSong(song);\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.returnFavs = async () => {\n      const {\n        song\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n      await addSong(song);\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.handleFavs = _ref => {\n      let {\n        target\n      } = _ref;\n\n      if (!target.checked) {\n        this.setState({\n          checked: target.checked\n        }, this.removeFav);\n      } else {\n        this.setState({\n          checked: target.checked\n        }, this.returnFavs);\n      }\n    };\n\n    this.state = {\n      checked: true,\n      loading: false\n    };\n  }\n\n  render() {\n    const {\n      song\n    } = this.props;\n    const {\n      trackName,\n      previewUrl,\n      trackId,\n      artistName\n    } = song;\n    const {\n      checked,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), checked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"songFav\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"songName\",\n          children: trackName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: artistName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n          \"data-testid\": \"audio-component\",\n          src: previewUrl,\n          controls: true,\n          children: [/*#__PURE__*/_jsxDEV(\"track\", {\n            kind: \"captions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), \"\\u0412\\u0430\\u0448 \\u0431\\u0440\\u0430\\u0443\\u0437\\u0435\\u0440 \\u043D\\u0435 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u0435\\u0442\", ' ', /*#__PURE__*/_jsxDEV(\"code\", {\n            children: \"audio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"favorite\",\n          className: \"checkedFav\",\n          children: [\"Favorita\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"favorite\",\n            \"data-testid\": `checkbox-music-${trackId}`,\n            onChange: this.handleFavs,\n            name: \"favorite\",\n            checked: checked\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nFavoriteCards.propTypes = {\n  song: PropTypes.array\n}.isRequired;\nexport default FavoriteCards;","map":{"version":3,"names":["React","PropTypes","Loading","removeSong","addSong","FavoriteCards","Component","constructor","removeFav","song","props","setState","loading","returnFavs","handleFavs","target","checked","state","render","trackName","previewUrl","trackId","artistName","propTypes","array","isRequired"],"sources":["C:/Сайты/react/music-project/src/components/FavoriteCards.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../pages/Loading';\nimport { removeSong, addSong } from '../services/favoriteSongsAPI';\n\nclass FavoriteCards extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      checked: true,\n      loading: false,\n    };\n  }\n\n  removeFav = async () => {\n    const { song } = this.props;\n    this.setState({ loading: true });\n    await removeSong(song);\n    this.setState({ loading: false });\n  }\n\n  returnFavs = async () => {\n    const { song } = this.props;\n    this.setState({ loading: true });\n    await addSong(song);\n    this.setState({ loading: false });\n  }\n\n  handleFavs = ({ target }) => {\n    if (!target.checked) {\n      this.setState({ checked: target.checked }, this.removeFav);\n    } else {\n      this.setState({ checked: target.checked }, this.returnFavs);\n    }\n  }\n\n  render() {\n    const { song } = this.props;\n    const { trackName, previewUrl, trackId, artistName } = song;\n    const { checked, loading } = this.state;\n    return (\n      <div>\n        {loading && <Loading />}\n        {checked && (\n          <div className=\"songFav\">\n            <h4 className=\"songName\">{ trackName }</h4>\n            <h4>{ artistName }</h4>\n            <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n              <track kind=\"captions\" />\n              Ваш браузер не поддерживает\n              {' '}\n              <code>audio</code>\n            </audio>\n            <label htmlFor=\"favorite\" className=\"checkedFav\">\n              Favorita\n              <input\n                type=\"checkbox\"\n                id=\"favorite\"\n                data-testid={ `checkbox-music-${trackId}` }\n                onChange={ this.handleFavs }\n                name=\"favorite\"\n                checked={ checked }\n              />\n            </label>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nFavoriteCards.propTypes = {\n  song: PropTypes.array,\n}.isRequired;\n\nexport default FavoriteCards;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,UAAT,EAAqBC,OAArB,QAAoC,8BAApC;;;AAEA,MAAMC,aAAN,SAA4BL,KAAK,CAACM,SAAlC,CAA4C;EAC1CC,WAAW,GAAG;IACZ;;IADY,KASdC,SATc,GASF,YAAY;MACtB,MAAM;QAAEC;MAAF,IAAW,KAAKC,KAAtB;MACA,KAAKC,QAAL,CAAc;QAAEC,OAAO,EAAE;MAAX,CAAd;MACA,MAAMT,UAAU,CAACM,IAAD,CAAhB;MACA,KAAKE,QAAL,CAAc;QAAEC,OAAO,EAAE;MAAX,CAAd;IACD,CAda;;IAAA,KAgBdC,UAhBc,GAgBD,YAAY;MACvB,MAAM;QAAEJ;MAAF,IAAW,KAAKC,KAAtB;MACA,KAAKC,QAAL,CAAc;QAAEC,OAAO,EAAE;MAAX,CAAd;MACA,MAAMR,OAAO,CAACK,IAAD,CAAb;MACA,KAAKE,QAAL,CAAc;QAAEC,OAAO,EAAE;MAAX,CAAd;IACD,CArBa;;IAAA,KAuBdE,UAvBc,GAuBD,QAAgB;MAAA,IAAf;QAAEC;MAAF,CAAe;;MAC3B,IAAI,CAACA,MAAM,CAACC,OAAZ,EAAqB;QACnB,KAAKL,QAAL,CAAc;UAAEK,OAAO,EAAED,MAAM,CAACC;QAAlB,CAAd,EAA2C,KAAKR,SAAhD;MACD,CAFD,MAEO;QACL,KAAKG,QAAL,CAAc;UAAEK,OAAO,EAAED,MAAM,CAACC;QAAlB,CAAd,EAA2C,KAAKH,UAAhD;MACD;IACF,CA7Ba;;IAGZ,KAAKI,KAAL,GAAa;MACXD,OAAO,EAAE,IADE;MAEXJ,OAAO,EAAE;IAFE,CAAb;EAID;;EAwBDM,MAAM,GAAG;IACP,MAAM;MAAET;IAAF,IAAW,KAAKC,KAAtB;IACA,MAAM;MAAES,SAAF;MAAaC,UAAb;MAAyBC,OAAzB;MAAkCC;IAAlC,IAAiDb,IAAvD;IACA,MAAM;MAAEO,OAAF;MAAWJ;IAAX,IAAuB,KAAKK,KAAlC;IACA,oBACE;MAAA,WACGL,OAAO,iBAAI,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QADd,EAEGI,OAAO,iBACN;QAAK,SAAS,EAAC,SAAf;QAAA,wBACE;UAAI,SAAS,EAAC,UAAd;UAAA,UAA2BG;QAA3B;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAA,UAAMG;QAAN;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAO,eAAY,iBAAnB;UAAqC,GAAG,EAAGF,UAA3C;UAAwD,QAAQ,MAAhE;UAAA,wBACE;YAAO,IAAI,EAAC;UAAZ;YAAA;YAAA;YAAA;UAAA,QADF,yJAGG,GAHH,eAIE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF,eASE;UAAO,OAAO,EAAC,UAAf;UAA0B,SAAS,EAAC,YAApC;UAAA,oCAEE;YACE,IAAI,EAAC,UADP;YAEE,EAAE,EAAC,UAFL;YAGE,eAAe,kBAAiBC,OAAQ,EAH1C;YAIE,QAAQ,EAAG,KAAKP,UAJlB;YAKE,IAAI,EAAC,UALP;YAME,OAAO,EAAGE;UANZ;YAAA;YAAA;YAAA;UAAA,QAFF;QAAA;UAAA;UAAA;UAAA;QAAA,QATF;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EA4BD;;AAhEyC;;AAmE5CX,aAAa,CAACkB,SAAd,GAA0B;EACxBd,IAAI,EAAER,SAAS,CAACuB;AADQ,EAExBC,UAFF;AAIA,eAAepB,aAAf"},"metadata":{},"sourceType":"module"}