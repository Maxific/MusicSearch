{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0421\\u0430\\u0439\\u0442\\u044B\\\\react\\\\music-project\\\\src\\\\components\\\\FavoriteCards.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../pages/Loading';\nimport { removeSong, addSong } from '../services/favoriteSongsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass FavoriteCards extends React.Component {\n  constructor() {\n    super();\n    this.removeFav = async () => {\n      const {\n        song\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n      await removeSong(song);\n      this.setState({\n        loading: false\n      });\n    };\n    this.returnFavs = async () => {\n      const {\n        song\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n      await addSong(song);\n      this.setState({\n        loading: false\n      });\n    };\n    this.handleFavs = _ref => {\n      let {\n        target\n      } = _ref;\n      if (!target.checked) {\n        this.setState({\n          checked: target.checked\n        }, this.removeFav);\n      } else {\n        this.setState({\n          checked: target.checked\n        }, this.returnFavs);\n      }\n    };\n    this.state = {\n      checked: true,\n      loading: false\n    };\n  }\n  render() {\n    const {\n      song\n    } = this.props;\n    const {\n      trackName,\n      previewUrl,\n      trackId,\n      artistName\n    } = song;\n    const {\n      checked,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), checked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"songFav\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"songName\",\n          children: trackName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: artistName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n          \"data-testid\": \"audio-component\",\n          src: previewUrl,\n          controls: true,\n          children: [/*#__PURE__*/_jsxDEV(\"track\", {\n            kind: \"captions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), \"\\u0412\\u0430\\u0448 \\u0431\\u0440\\u0430\\u0443\\u0437\\u0435\\u0440 \\u043D\\u0435 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0439 \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\", ' ', /*#__PURE__*/_jsxDEV(\"code\", {\n            children: \"\\u0410\\u0443\\u0434\\u0438\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"favorite\",\n          className: \"checkedFav\",\n          children: [\"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"favorite\",\n            \"data-testid\": `checkbox-music-${trackId}`,\n            onChange: this.handleFavs,\n            name: \"favorite\",\n            checked: checked\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n}\nFavoriteCards.propTypes = {\n  song: PropTypes.array\n}.isRequired;\nexport default FavoriteCards;","map":{"version":3,"names":["React","PropTypes","Loading","removeSong","addSong","FavoriteCards","Component","constructor","removeFav","song","props","setState","loading","returnFavs","handleFavs","target","checked","state","render","trackName","previewUrl","trackId","artistName","propTypes","array","isRequired"],"sources":["C:/Сайты/react/music-project/src/components/FavoriteCards.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../pages/Loading';\nimport { removeSong, addSong } from '../services/favoriteSongsAPI';\n\nclass FavoriteCards extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      checked: true,\n      loading: false,\n    };\n  }\n\n  removeFav = async () => {\n    const { song } = this.props;\n    this.setState({ loading: true });\n    await removeSong(song);\n    this.setState({ loading: false });\n  }\n\n  returnFavs = async () => {\n    const { song } = this.props;\n    this.setState({ loading: true });\n    await addSong(song);\n    this.setState({ loading: false });\n  }\n\n  handleFavs = ({ target }) => {\n    if (!target.checked) {\n      this.setState({ checked: target.checked }, this.removeFav);\n    } else {\n      this.setState({ checked: target.checked }, this.returnFavs);\n    }\n  }\n\n  render() {\n    const { song } = this.props;\n    const { trackName, previewUrl, trackId, artistName } = song;\n    const { checked, loading } = this.state;\n    return (\n      <div>\n        {loading && <Loading />}\n        {checked && (\n          <div className=\"songFav\">\n            <h4 className=\"songName\">{ trackName }</h4>\n            <h4>{ artistName }</h4>\n            <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n              <track kind=\"captions\" />\n              Ваш браузер не поддерживает данный элемент\n              {' '}\n              <code>Аудио</code>\n            </audio>\n            <label htmlFor=\"favorite\" className=\"checkedFav\">\n              Избранное\n              <input\n                type=\"checkbox\"\n                id=\"favorite\"\n                data-testid={ `checkbox-music-${trackId}` }\n                onChange={ this.handleFavs }\n                name=\"favorite\"\n                checked={ checked }\n              />\n            </label>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nFavoriteCards.propTypes = {\n  song: PropTypes.array,\n}.isRequired;\n\nexport default FavoriteCards;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}