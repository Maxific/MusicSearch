{"ast":null,"code":"import _regeneratorRuntime from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/\\u0421\\u0430\\u0439\\u0442\\u044B/react/music-project/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import Header from'../components/Header';import MusicCard from'../components/MusicCard';import getMusics from'../services/musicsAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Album=/*#__PURE__*/function(_React$Component){_inherits(Album,_React$Component);var _super=_createSuper(Album);function Album(){var _this;_classCallCheck(this,Album);_this=_super.call(this);_this.fetchMusics=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var id,songs,info;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=_this.props.match.params.id;_context.next=3;return getMusics(id);case 3:songs=_context.sent;info=songs[0];_this.setState({info:info,songs:songs});case 6:case\"end\":return _context.stop();}}},_callee);}));_this.state={info:{},songs:[]};return _this;}_createClass(Album,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchMusics();}},{key:\"render\",value:function render(){var _this$state=this.state,info=_this$state.info,songs=_this$state.songs;var artistName=info.artistName,collectionName=info.collectionName,artworkUrl100=info.artworkUrl100;return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"page-album\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"divAlbum\",children:[/*#__PURE__*/_jsx(\"h1\",{\"data-testid\":\"artist-name\",children:artistName}),/*#__PURE__*/_jsx(\"h2\",{\"data-testid\":\"album-name\",children:collectionName}),/*#__PURE__*/_jsx(\"img\",{src:artworkUrl100,alt:collectionName,className:\"teste\"}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:songs.filter(function(song){return song!==info;}).map(function(song){return/*#__PURE__*/_jsx(MusicCard,{song:song},song.trackId);})})})]})]});}}]);return Album;}(React.Component);export default Album;","map":{"version":3,"names":["React","Header","MusicCard","getMusics","Album","fetchMusics","id","props","match","params","songs","info","setState","state","artistName","collectionName","artworkUrl100","filter","song","map","trackId","Component"],"sources":["C:/Сайты/react/music-project/src/pages/Album.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport MusicCard from '../components/MusicCard';\nimport getMusics from '../services/musicsAPI';\n\nclass Album extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      info: {},\n      songs: [],\n    };\n  }\n\n  componentDidMount() {\n    this.fetchMusics();\n  }\n\n  fetchMusics = async () => {\n    const { match: { params: { id } } } = this.props;\n    const songs = await getMusics(id);\n    const info = songs[0];\n    this.setState({ info, songs });\n  }\n\n  render() {\n    const { info, songs } = this.state;\n    const { artistName, collectionName, artworkUrl100 } = info;\n    return (\n      <div data-testid=\"page-album\">\n        <Header />\n        <div className=\"divAlbum\">\n          <h1 data-testid=\"artist-name\">{artistName}</h1>\n          <h2 data-testid=\"album-name\">{collectionName}</h2>\n          <img src={ artworkUrl100 } alt={ collectionName } className=\"teste\" />\n          <ul>\n            <li>\n              {songs.filter((song) => song !== info)\n                .map((song) => (<MusicCard\n                  song={ song }\n                  key={ song.trackId }\n                />))}\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nexport default Album;\n"],"mappings":"k0BAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,UAAS,KAAM,yBAAyB,CAC/C,MAAOC,UAAS,KAAM,uBAAuB,CAAC,2FAExCC,MAAK,0GACT,gBAAc,uCACZ,wBAAQ,MAYVC,WAAW,wEAAG,uJACeC,EAAE,CAAS,MAAKC,KAAK,CAAxCC,KAAK,CAAIC,MAAM,CAAIH,EAAE,uBACTH,UAAS,CAACG,EAAE,CAAC,QAA3BI,KAAK,eACLC,IAAI,CAAGD,KAAK,CAAC,CAAC,CAAC,CACrB,MAAKE,QAAQ,CAAC,CAAED,IAAI,CAAJA,IAAI,CAAED,KAAK,CAALA,KAAM,CAAC,CAAC,CAAC,sDAChC,GAfC,MAAKG,KAAK,CAAG,CACXF,IAAI,CAAE,CAAC,CAAC,CACRD,KAAK,CAAE,EACT,CAAC,CAAC,aACJ,CAAC,mDAED,4BAAoB,CAClB,IAAI,CAACL,WAAW,EAAE,CACpB,CAAC,sBASD,iBAAS,CACP,gBAAwB,IAAI,CAACQ,KAAK,CAA1BF,IAAI,aAAJA,IAAI,CAAED,KAAK,aAALA,KAAK,CACnB,GAAQI,WAAU,CAAoCH,IAAI,CAAlDG,UAAU,CAAEC,cAAc,CAAoBJ,IAAI,CAAtCI,cAAc,CAAEC,aAAa,CAAKL,IAAI,CAAtBK,aAAa,CACjD,mBACE,aAAK,cAAY,YAAY,wBAC3B,KAAC,MAAM,IAAG,cACV,aAAK,SAAS,CAAC,UAAU,wBACvB,WAAI,cAAY,aAAa,UAAEF,UAAU,EAAM,cAC/C,WAAI,cAAY,YAAY,UAAEC,cAAc,EAAM,cAClD,YAAK,GAAG,CAAGC,aAAe,CAAC,GAAG,CAAGD,cAAgB,CAAC,SAAS,CAAC,OAAO,EAAG,cACtE,iCACE,oBACGL,KAAK,CAACO,MAAM,CAAC,SAACC,IAAI,QAAKA,KAAI,GAAKP,IAAI,GAAC,CACnCQ,GAAG,CAAC,SAACD,IAAI,qBAAM,KAAC,SAAS,EACxB,IAAI,CAAGA,IAAM,EACPA,IAAI,CAACE,OAAO,CAClB,EAAC,CAAC,EACH,EACF,GACD,GACF,CAEV,CAAC,mBA3CiBpB,KAAK,CAACqB,SAAS,EAkDnC,cAAejB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}