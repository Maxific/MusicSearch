{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0421\\u0430\\u0439\\u0442\\u044B\\\\react\\\\music-project\\\\src\\\\pages\\\\ProfileEdit.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\nimport Loading from './Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.returnUser = async () => {\n      this.setState({\n        loading: true\n      });\n      const userInfo = await getUser();\n      this.setState({\n        loading: false,\n        inputName: userInfo.name,\n        inputEmail: userInfo.email,\n        inputInfo: userInfo.description,\n        inputPic: userInfo.image\n      }, this.submitButton);\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name\n      } = target;\n      const {\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.submitButton);\n    };\n    this.submitButton = () => {\n      const {\n        inputName,\n        inputEmail,\n        inputInfo,\n        inputPic\n      } = this.state;\n      if (inputName !== '' && inputEmail !== '' && inputInfo !== '' && inputPic !== '') {\n        this.setState({\n          disabled: false\n        });\n      }\n    };\n    this.updateInfo = e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const {\n        inputName,\n        inputEmail,\n        inputInfo,\n        inputPic\n      } = this.state;\n      const {\n        history\n      } = this.props;\n      const user = {\n        name: inputName,\n        image: inputPic,\n        email: inputEmail,\n        description: inputInfo\n      };\n      updateUser(user);\n      this.setState({\n        loading: false\n      });\n      history.push('/profile');\n    };\n    this.state = {\n      loading: false,\n      disabled: true,\n      inputName: '',\n      inputEmail: '',\n      inputInfo: '',\n      inputPic: ''\n    };\n  }\n  componentDidMount() {\n    this.returnUser();\n  }\n  render() {\n    const {\n      loading,\n      disabled\n    } = this.state;\n    const {\n      inputName,\n      inputEmail,\n      inputInfo,\n      inputPic\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-profile-edit\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editProfile\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"formEdit\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: inputPic,\n            alt: inputName,\n            className: \"imgProfile2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"changeName\",\n            children: [\"\\u0418\\u043C\\u044F\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"inputName\",\n              type: \"text\",\n              value: inputName,\n              onChange: this.handleChange,\n              id: \"changeName\",\n              \"data-testid\": \"edit-input-name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"changeEmail\",\n            children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"inputEmail\",\n              value: inputEmail,\n              id: \"changeEmail\",\n              onChange: this.handleChange,\n              \"data-testid\": \"edit-input-email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"changeInfo\",\n            children: [\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"inputInfo\",\n              value: inputInfo,\n              onChange: this.handleChange,\n              id: \"changeInfo\",\n              \"data-testid\": \"edit-input-description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"changePic\",\n            children: [\"\\u0424\\u043E\\u0442\\u043E\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"inputPic\",\n              value: inputPic,\n              onChange: this.handleChange,\n              id: \"changePic\",\n              \"data-testid\": \"edit-input-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divButton\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              \"data-testid\": \"edit-button-save\",\n              disabled: disabled,\n              onClick: this.updateInfo,\n              className: \"updateButton\",\n              children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n}\nProfileEdit.propTypes = {\n  history: PropTypes.string\n}.isRequired;\nexport default ProfileEdit;","map":{"version":3,"names":["React","PropTypes","Header","getUser","updateUser","Loading","ProfileEdit","Component","constructor","returnUser","setState","loading","userInfo","inputName","name","inputEmail","email","inputInfo","description","inputPic","image","submitButton","handleChange","target","value","state","disabled","updateInfo","e","preventDefault","history","props","user","push","componentDidMount","render","propTypes","string","isRequired"],"sources":["C:/Сайты/react/music-project/src/pages/ProfileEdit.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      loading: false,\n      disabled: true,\n      inputName: '',\n      inputEmail: '',\n      inputInfo: '',\n      inputPic: '',\n    };\n  }\n\n  componentDidMount() {\n    this.returnUser();\n  }\n\n  returnUser = async () => {\n    this.setState({ loading: true });\n    const userInfo = await getUser();\n    this.setState({ loading: false,\n      inputName: userInfo.name,\n      inputEmail: userInfo.email,\n      inputInfo: userInfo.description,\n      inputPic: userInfo.image }, this.submitButton);\n  }\n\n  handleChange = ({ target }) => {\n    const { name } = target;\n    const { value } = target;\n    this.setState({ [name]: value }, this.submitButton);\n  }\n\n  submitButton = () => {\n    const { inputName, inputEmail, inputInfo, inputPic } = this.state;\n    if (inputName !== ''\n    && inputEmail !== ''\n    && inputInfo !== ''\n    && inputPic !== '') {\n      this.setState({ disabled: false });\n    }\n  }\n\n  updateInfo = (e) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    const { inputName, inputEmail, inputInfo, inputPic } = this.state;\n    const { history } = this.props;\n    const user = { name: inputName,\n      image: inputPic,\n      email: inputEmail,\n      description: inputInfo };\n    updateUser(user);\n    this.setState({ loading: false });\n    history.push('/profile');\n  }\n\n  render() {\n    const { loading, disabled } = this.state;\n    const { inputName, inputEmail, inputInfo, inputPic } = this.state;\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        <div className=\"editProfile\">\n          <h1>Редактировать профиль</h1>\n          {loading && <Loading />}\n          <form className=\"formEdit\">\n            <img src={ inputPic } alt={ inputName } className=\"imgProfile2\" />\n            <label htmlFor=\"changeName\">\n             Имя\n              <input\n                name=\"inputName\"\n                type=\"text\"\n                value={ inputName }\n                onChange={ this.handleChange }\n                id=\"changeName\"\n                data-testid=\"edit-input-name\"\n              />\n            </label>\n            <label htmlFor=\"changeEmail\">\n              Email:\n              <input\n                type=\"text\"\n                name=\"inputEmail\"\n                value={ inputEmail }\n                id=\"changeEmail\"\n                onChange={ this.handleChange }\n                data-testid=\"edit-input-email\"\n              />\n            </label>\n            <label htmlFor=\"changeInfo\">\n              Описание\n              <input\n                type=\"text\"\n                name=\"inputInfo\"\n                value={ inputInfo }\n                onChange={ this.handleChange }\n                id=\"changeInfo\"\n                data-testid=\"edit-input-description\"\n              />\n            </label>\n            <label htmlFor=\"changePic\">\n              Фото\n              <input\n                type=\"text\"\n                name=\"inputPic\"\n                value={ inputPic }\n                onChange={ this.handleChange }\n                id=\"changePic\"\n                data-testid=\"edit-input-image\"\n              />\n            </label>\n            <div className=\"divButton\">\n              <button\n                type=\"submit\"\n                data-testid=\"edit-button-save\"\n                disabled={ disabled }\n                onClick={ this.updateInfo }\n                className=\"updateButton\"\n              >\n                Сохранить\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.string,\n}.isRequired;\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}