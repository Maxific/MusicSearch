{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0421\\u0430\\u0439\\u0442\\u044B\\\\react\\\\trybe-trybetunes-master\\\\src\\\\pages\\\\ProfileEdit.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\nimport Loading from './Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.returnUser = async () => {\n      this.setState({\n        loading: true\n      });\n      const userInfo = await getUser();\n      this.setState({\n        loading: false,\n        inputName: userInfo.name,\n        inputEmail: userInfo.email,\n        inputInfo: userInfo.description,\n        inputPic: userInfo.image\n      }, this.submitButton);\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name\n      } = target;\n      const {\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.submitButton);\n    };\n\n    this.submitButton = () => {\n      const {\n        inputName,\n        inputEmail,\n        inputInfo,\n        inputPic\n      } = this.state;\n\n      if (inputName !== '' && inputEmail !== '' && inputInfo !== '' && inputPic !== '') {\n        this.setState({\n          disabled: false\n        });\n      }\n    };\n\n    this.updateInfo = e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const {\n        inputName,\n        inputEmail,\n        inputInfo,\n        inputPic\n      } = this.state;\n      const {\n        history\n      } = this.props;\n      const user = {\n        name: inputName,\n        image: inputPic,\n        email: inputEmail,\n        description: inputInfo\n      };\n      updateUser(user);\n      this.setState({\n        loading: false\n      });\n      history.push('/profile');\n    };\n\n    this.state = {\n      loading: false,\n      disabled: true,\n      inputName: '',\n      inputEmail: '',\n      inputInfo: '',\n      inputPic: ''\n    };\n  }\n\n  componentDidMount() {\n    this.returnUser();\n  }\n\n  render() {\n    const {\n      loading,\n      disabled\n    } = this.state;\n    const {\n      inputName,\n      inputEmail,\n      inputInfo,\n      inputPic\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-profile-edit\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editProfile\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Editar perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"formEdit\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: inputPic,\n            alt: inputName,\n            className: \"imgProfile2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"changeName\",\n            children: [\"Nome:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"inputName\",\n              type: \"text\",\n              value: inputName,\n              onChange: this.handleChange,\n              id: \"changeName\",\n              \"data-testid\": \"edit-input-name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"changeEmail\",\n            children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"inputEmail\",\n              value: inputEmail,\n              id: \"changeEmail\",\n              onChange: this.handleChange,\n              \"data-testid\": \"edit-input-email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"changeInfo\",\n            children: [\"Descri\\xE7\\xE3o:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"inputInfo\",\n              value: inputInfo,\n              onChange: this.handleChange,\n              id: \"changeInfo\",\n              \"data-testid\": \"edit-input-description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"changePic\",\n            children: [\"Foto\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"inputPic\",\n              value: inputPic,\n              onChange: this.handleChange,\n              id: \"changePic\",\n              \"data-testid\": \"edit-input-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divButton\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              \"data-testid\": \"edit-button-save\",\n              disabled: disabled,\n              onClick: this.updateInfo,\n              className: \"updateButton\",\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.string\n}.isRequired;\nexport default ProfileEdit;","map":{"version":3,"names":["React","PropTypes","Header","getUser","updateUser","Loading","ProfileEdit","Component","constructor","returnUser","setState","loading","userInfo","inputName","name","inputEmail","email","inputInfo","description","inputPic","image","submitButton","handleChange","target","value","state","disabled","updateInfo","e","preventDefault","history","props","user","push","componentDidMount","render","propTypes","string","isRequired"],"sources":["C:/Сайты/react/trybe-trybetunes-master/src/pages/ProfileEdit.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      loading: false,\n      disabled: true,\n      inputName: '',\n      inputEmail: '',\n      inputInfo: '',\n      inputPic: '',\n    };\n  }\n\n  componentDidMount() {\n    this.returnUser();\n  }\n\n  returnUser = async () => {\n    this.setState({ loading: true });\n    const userInfo = await getUser();\n    this.setState({ loading: false,\n      inputName: userInfo.name,\n      inputEmail: userInfo.email,\n      inputInfo: userInfo.description,\n      inputPic: userInfo.image }, this.submitButton);\n  }\n\n  handleChange = ({ target }) => {\n    const { name } = target;\n    const { value } = target;\n    this.setState({ [name]: value }, this.submitButton);\n  }\n\n  submitButton = () => {\n    const { inputName, inputEmail, inputInfo, inputPic } = this.state;\n    if (inputName !== ''\n    && inputEmail !== ''\n    && inputInfo !== ''\n    && inputPic !== '') {\n      this.setState({ disabled: false });\n    }\n  }\n\n  updateInfo = (e) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    const { inputName, inputEmail, inputInfo, inputPic } = this.state;\n    const { history } = this.props;\n    const user = { name: inputName,\n      image: inputPic,\n      email: inputEmail,\n      description: inputInfo };\n    updateUser(user);\n    this.setState({ loading: false });\n    history.push('/profile');\n  }\n\n  render() {\n    const { loading, disabled } = this.state;\n    const { inputName, inputEmail, inputInfo, inputPic } = this.state;\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        <div className=\"editProfile\">\n          <h1>Editar perfil</h1>\n          {loading && <Loading />}\n          <form className=\"formEdit\">\n            <img src={ inputPic } alt={ inputName } className=\"imgProfile2\" />\n            <label htmlFor=\"changeName\">\n              Nome:\n              <input\n                name=\"inputName\"\n                type=\"text\"\n                value={ inputName }\n                onChange={ this.handleChange }\n                id=\"changeName\"\n                data-testid=\"edit-input-name\"\n              />\n            </label>\n            <label htmlFor=\"changeEmail\">\n              Email:\n              <input\n                type=\"text\"\n                name=\"inputEmail\"\n                value={ inputEmail }\n                id=\"changeEmail\"\n                onChange={ this.handleChange }\n                data-testid=\"edit-input-email\"\n              />\n            </label>\n            <label htmlFor=\"changeInfo\">\n              Descrição:\n              <input\n                type=\"text\"\n                name=\"inputInfo\"\n                value={ inputInfo }\n                onChange={ this.handleChange }\n                id=\"changeInfo\"\n                data-testid=\"edit-input-description\"\n              />\n            </label>\n            <label htmlFor=\"changePic\">\n              Foto\n              <input\n                type=\"text\"\n                name=\"inputPic\"\n                value={ inputPic }\n                onChange={ this.handleChange }\n                id=\"changePic\"\n                data-testid=\"edit-input-image\"\n              />\n            </label>\n            <div className=\"divButton\">\n              <button\n                type=\"submit\"\n                data-testid=\"edit-button-save\"\n                disabled={ disabled }\n                onClick={ this.updateInfo }\n                className=\"updateButton\"\n              >\n                Salvar\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.string,\n}.isRequired;\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}