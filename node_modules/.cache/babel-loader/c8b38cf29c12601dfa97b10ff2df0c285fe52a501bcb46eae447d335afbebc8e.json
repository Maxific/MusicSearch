{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0421\\u0430\\u0439\\u0442\\u044B\\\\react\\\\music-project\\\\src\\\\pages\\\\Search.js\";\nimport React from 'react';\nimport Header from '../components/Header';\nimport Loading from './Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport ListAlbums from '../components/ListAlbums';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.inputArtist = e => {\n      const tamanho = e.target.value.length;\n      if (tamanho >= 2) {\n        this.setState({\n          buttonDisabled: false,\n          artistInput: e.target.value\n        });\n      } else {\n        this.setState({\n          buttonDisabled: true,\n          artistInput: e.target.value\n        });\n      }\n    };\n    this.fetchArtist = async () => {\n      const {\n        artistInput\n      } = this.state;\n      this.setState({\n        loading: true,\n        clear: true\n      });\n      const response = await searchAlbumsAPI(artistInput);\n      this.setState({\n        loading: false,\n        response\n      });\n    };\n    this.state = {\n      buttonDisabled: true,\n      artistInput: '',\n      loading: false,\n      clear: false,\n      response: []\n    };\n  }\n  render() {\n    const {\n      buttonDisabled,\n      artistInput,\n      loading,\n      clear,\n      response\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      className: \"divSearch\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u041D\\u0430\\u0439\\u0442\\u0438 \\u0438\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"artist\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"search-artist-input\"\n            // value={ clear ? '' : artistInput }\n            ,\n            value: artistInput,\n            onChange: this.inputArtist\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"search-artist-button\",\n          disabled: buttonDisabled,\n          onClick: this.fetchArtist,\n          className: \"searchButton\",\n          children: \"\\u041F\\u043E\\u0438\\u0441\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), response.length > 0 && artistInput !== '' ? /*#__PURE__*/_jsxDEV(ListAlbums, {\n        ...this.state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0410\\u043B\\u044C\\u0431\\u043E\\u043C\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Search;","map":{"version":3,"names":["React","Header","Loading","searchAlbumsAPI","ListAlbums","Search","Component","constructor","inputArtist","e","tamanho","target","value","length","setState","buttonDisabled","artistInput","fetchArtist","state","loading","clear","response","render"],"sources":["C:/Сайты/react/music-project/src/pages/Search.js"],"sourcesContent":["import React from 'react';\nimport Header from '../components/Header';\nimport Loading from './Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport ListAlbums from '../components/ListAlbums';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      buttonDisabled: true,\n      artistInput: '',\n      loading: false,\n      clear: false,\n      response: [],\n    };\n  }\n\n  inputArtist = (e) => {\n    const tamanho = e.target.value.length;\n\n    if (tamanho >= 2) {\n      this.setState({\n        buttonDisabled: false,\n        artistInput: e.target.value,\n      });\n    } else {\n      this.setState({\n        buttonDisabled: true,\n        artistInput: e.target.value,\n      });\n    }\n  }\n\n  fetchArtist = async () => {\n    const { artistInput } = this.state;\n    this.setState({ loading: true, clear: true });\n    const response = await searchAlbumsAPI(artistInput);\n    this.setState({ loading: false, response });\n  }\n\n  render() {\n    const { buttonDisabled, artistInput, loading, clear, response } = this.state;\n    return (\n      <div data-testid=\"page-search\" className=\"divSearch\">\n        <Header />\n        {loading ? <Loading />\n          : (\n            <form>\n              <h1>Найти исполнителя:</h1>\n              <label htmlFor=\"artist\">\n                <input\n                  type=\"text\"\n                  data-testid=\"search-artist-input\"\n                  // value={ clear ? '' : artistInput }\n                  value={ artistInput }\n                  onChange={ this.inputArtist }\n                />\n              </label>\n              <button\n                type=\"submit\"\n                data-testid=\"search-artist-button\"\n                disabled={ buttonDisabled }\n                onClick={ this.fetchArtist }\n                className=\"searchButton\"\n              >\n                Поиск\n              </button>\n            </form>\n          )}\n        {(response.length > 0 && artistInput !== '')\n          ? <ListAlbums { ...this.state } />\n          : <p>Альбомы не найдены</p>}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,eAAe,MAAM,6BAA6B;AACzD,OAAOC,UAAU,MAAM,0BAA0B;AAAC;AAElD,MAAMC,MAAM,SAASL,KAAK,CAACM,SAAS,CAAC;EACnCC,WAAW,GAAG;IACZ,KAAK,EAAE;IAAC,KAWVC,WAAW,GAAIC,CAAC,IAAK;MACnB,MAAMC,OAAO,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAACC,MAAM;MAErC,IAAIH,OAAO,IAAI,CAAC,EAAE;QAChB,IAAI,CAACI,QAAQ,CAAC;UACZC,cAAc,EAAE,KAAK;UACrBC,WAAW,EAAEP,CAAC,CAACE,MAAM,CAACC;QACxB,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,IAAI,CAACE,QAAQ,CAAC;UACZC,cAAc,EAAE,IAAI;UACpBC,WAAW,EAAEP,CAAC,CAACE,MAAM,CAACC;QACxB,CAAC,CAAC;MACJ;IACF,CAAC;IAAA,KAEDK,WAAW,GAAG,YAAY;MACxB,MAAM;QAAED;MAAY,CAAC,GAAG,IAAI,CAACE,KAAK;MAClC,IAAI,CAACJ,QAAQ,CAAC;QAAEK,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MAC7C,MAAMC,QAAQ,GAAG,MAAMlB,eAAe,CAACa,WAAW,CAAC;MACnD,IAAI,CAACF,QAAQ,CAAC;QAAEK,OAAO,EAAE,KAAK;QAAEE;MAAS,CAAC,CAAC;IAC7C,CAAC;IA9BC,IAAI,CAACH,KAAK,GAAG;MACXH,cAAc,EAAE,IAAI;MACpBC,WAAW,EAAE,EAAE;MACfG,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE,KAAK;MACZC,QAAQ,EAAE;IACZ,CAAC;EACH;EAyBAC,MAAM,GAAG;IACP,MAAM;MAAEP,cAAc;MAAEC,WAAW;MAAEG,OAAO;MAAEC,KAAK;MAAEC;IAAS,CAAC,GAAG,IAAI,CAACH,KAAK;IAC5E,oBACE;MAAK,eAAY,aAAa;MAAC,SAAS,EAAC,WAAW;MAAA,wBAClD,QAAC,MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,EACTC,OAAO,gBAAG,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAG,gBAElB;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAA2B,eAC3B;UAAO,OAAO,EAAC,QAAQ;UAAA,uBACrB;YACE,IAAI,EAAC,MAAM;YACX,eAAY;YACZ;YAAA;YACA,KAAK,EAAGH,WAAa;YACrB,QAAQ,EAAG,IAAI,CAACR;UAAa;YAAA;YAAA;YAAA;UAAA;QAC7B;UAAA;UAAA;UAAA;QAAA,QACI,eACR;UACE,IAAI,EAAC,QAAQ;UACb,eAAY,sBAAsB;UAClC,QAAQ,EAAGO,cAAgB;UAC3B,OAAO,EAAG,IAAI,CAACE,WAAa;UAC5B,SAAS,EAAC,cAAc;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAGjB;MAAA;QAAA;QAAA;QAAA;MAAA,QAEZ,EACDI,QAAQ,CAACR,MAAM,GAAG,CAAC,IAAIG,WAAW,KAAK,EAAE,gBACvC,QAAC,UAAU;QAAA,GAAM,IAAI,CAACE;MAAK;QAAA;QAAA;QAAA;MAAA,QAAK,gBAChC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAyB;IAAA;MAAA;MAAA;MAAA;IAAA,QACzB;EAEV;AACF;AAEA,eAAeb,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}